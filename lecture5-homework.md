# 第5课 课后作业

## 第1题 假的KZG承诺
<img width="769" alt="image" src="https://github.com/readygo67/zkshanghai-workshop/assets/78890754/8cc21608-824f-423f-b806-2fd6be2371f3">


## 第2题 KZG向量承诺方案

从 KZG 多项式承诺方案构造一个**向量承诺方案**。 （提示：对于向量$m=[m_1,m_2,...,m_q]$  是否存在一个“插值多项式$I(x)$ 使得$I(x_i)=y_i$）

为对所有$x_i$的计算 $f(x_i)=y_i$  们知道这样一个多项式存在，并且可以通过拉格朗日插值来计算它：

$f(x) = \sum\limits^n\limits_{i=1} y_i*L_i(x)$

$$
L_i(x) = \prod\limits^{n-1}\limits_{j=0,j!=i}(x-j)/(i-j)
$$

## 第3题

假设我们有一个插值多项式f(x)，使得对于一组n个点f(x_i) = y_i，我们可以扩展多项式承诺方案如下：

承诺：证明者计算插值多项式f(x)的承诺为C = g^f(x) h^r，其中r是随机选择的标量，g和h是G群的生成器。

挑战：验证者选择一个随机标量c，并将其发送给证明者。

响应：证明者计算评估y_i在点x_i处的评估证明，如下所示：

计算新多项式g(x)的承诺为Ci = g^g(x) h^si，其中si是另一个随机选择的标量。
计算点x_i和n个点的Lagrange多项式L_i(x)。
计算Lagrange多项式L_i(x)的承诺为Di = g^L_i(x_i) h^ti，其中ti是另一个随机选择的标量。
计算在点x_i处的f(x)的评估的承诺为wi = y_i - f(x_i) + cx_iL_i(x_i)。
计算响应z_i = si + rcx_i + ti*c。
验证：验证者检查以下等式是否成立：
C^c * Di = g^wi * h^zi
C^c * (D_1 + D_2 + ... + D_n) = g^f(x_1) * g^f(x_2) * ... * g^f(x_n) * h^r * h^(c*(x_1 + x_2 + ... + x_n))
如果等式成立，那么验证者接受证明。

这种多证明方案允许证明者证明f(x)插值了一组点，并为每个点的评估提供证明。注意，该方案需要可信设置，其中证明者可以访问插值多项式f(x)。
